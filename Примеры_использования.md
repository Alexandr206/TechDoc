# 5. Примеры и случаи использования

## 5.1 Сценарии использования

Сценарии использования описывают возможности системы навигации в различных условиях, с учетом ее ограничений. 


### 5.1.1 Обход препятствий

Робот-доставщик должен доставить груз в определенную точку помещения. Помещения представлено в виде сетки, где препятствиями являются любые объекты которые непреодолимы для робота. Система навигации получает карту помещения и координаты начальной (местоположение робота) и конечной точек (место доставки). Система рассчитывает путь, обходя препятствия, и передает его роботу.

### 5.1.2 Патрулирование территории охранным роботом

Охранный робот должен патрулировать территорию склада, следуя заданному маршруту. Склад представлен в виде сетки, где препятствиями являются стеллажи, оборудование и другие объекты.  Система навигации получает карту склада и координаты нескольких контрольных точек, которые робот должен посетить в определенной последовательности. Для каждой пары контрольных точек система рассчитывает кратчайший путь обхода препятствий. Робот последовательно перемещается по рассчитанным путям, выполняя патрулирование.

### 5.1.3 Прохождение лабиринта

Робот-исследователь должен пройти лабиринт, представленный в виде сетки. Стены лабиринта являются препятствиями. Система навигации получает карту лабиринта и координаты начальной точки (местоположение робота) и конечной точки (выход из лабиринта). Система рассчитывает путь и передает его роботу. 


## 5.2 Описание функций с примерами


### `generate_map(height=None, width=None, wall_chance=0.3)`

Создает двумерную карту (матрицу) заданного размера, представляющую навигационное пространство. Заполняет матрицу 0 или 1, где 0 - отсутствие препятствия, 1 - наличие препятствия. Имеет следующие параметры:

*   `height`: Высота карты (число строк).  Если не указано, генерируется случайное значение от 2 до 99.
*   `width`: Ширина карты (число столбцов). Если не указано, генерируется случайное значение от 2 до 99.
*   `wall_chance`: Вероятность того, что ячейка будет препятствием (значение от 0 до 1). По умолчанию 0.3.

**Примеры:**

```python
generate_map()  # Случайный размер и плотность заполнения поля препятствиями 30%
generate_map(50) # Высота 50, ширина случайная, плотность заполнения поля препятствиями 30%
generate_map(, 30) # Ширина 30, высота, плотность заполнения поля препятствиями 30%
generate_map(, , 0.5) # Случайный размер и плотность заполнения поля препятствиями 50%
generate_map(20, 20) # Карта 20x20, плотность заполнения поля препятствиями 30%
generate_map(30, 30, 0.25) # Карта 30x30, плотность заполнения поля препятствиями 25%
```


### `heuristic(p1, p2)`

Вычисляет манхэттенское расстояние между двумя точками формуле. В системе не предусмотренно изменение параметров вручную, значения подставляются в ходе работы алгоритма A* 

*   `p1`: Координаты первой точки в формате кортежа `(x, y)`.
*   `p2`: Координаты второй точки в формате кортежа `(x, y)`.

**Примеры:**

```python
heuristic((0, 0), (5, 5))  # Результат: 10
heuristic((1, 2), (3, 4))  # Результат: 4
```


### `find_path(robo_map, start=None, target=None)`

Находит кратчайший путь между двумя точками на карте, используя алгоритм A\*.

*   `robo_map`: Карта, созданная функцией `generate_map`.
*   `start`: Координаты начальной точки.  По умолчанию `(0, 0)`.
*   `target`: Координаты конечной точки. По умолчанию `(height-1, width-1)`, где `height` и `width` - размеры карты.

**Примеры:**

```python
find_path(robo_map) # Начало и конец по умолчанию
find_path(robo_map, (1, 1)) # Задана начальная точка
find_path(robo_map, , (10, 5)) # Задана конечная точка
find_path(robo_map, (5, 2), (15, 12)) # Заданы и начало, и конец
```



### `optimize_path(defualt_path)`

Оптимизирует найденный путь, сокращая углы. 

*   `defualt_path`: Путь, найденный функцией `find_path`.

**Пример:**

```python
optimized_path = optimize_path(path) # Получаем оптимизированный путь
```



